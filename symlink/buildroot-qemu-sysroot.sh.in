#!/bin/bash

scriptdir=`realpath $(dirname "$BASH_SOURCE")`
source "$scriptdir/shortcut.sh"

export PREFIX=^TRIPLE^
export DIR=/home/crosstoolng/buildroot/
export ARCH=^ARCH^
export LIBPATH="$DIR$PREFIX"/sysroot
^HARDCODED^^LD_PRELOAD^^LD_LIBRARY_PATH^
^FLAGS^^OPTIONAL_FLAGS^shortcut_gcc
shortcut_util
shortcut_run

# These don't work well with the aliased toolchains for shared
# libraries, so we alias them into /lib.
for lib in "$DIR$PREFIX"/sysroot/lib/*.so*; do
    name=$(basename "$lib")
    ln -s "$lib" /lib/"$name"
done
